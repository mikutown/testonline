<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/views/layout/head :: content}"></head>
<body class="hold-transition skin-green-light sidebar-mini">
<div class="wrapper">

  <!-- Main Header -->
  <div th:replace="~{/views/layout/header :: headerAA}"></div>
  <!-- Left side column. contains the logo and sidebar -->
  <div th:replace="~{/views/layout/menuroot :: menuroot}"></div>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        题目管理
        <small>管理所有题目</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> 首页</a></li>
        <li><a href="#">题库管理</a></li>
        <li class="active">题目管理</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">题目列表</h3>
              <small>如果想查看题目的详细信息，请点击修改按钮</small>
            </div>
            <div id="toolbar">
              <div class="pull-left">
                <button type="button" class="btn btn-primary" data-toggle="modal"
                        data-target="#UserInsertModal">
                  <i class="fa fa-file">添加用户</i>
                </button>
                <button type="button" class="btn btn-danger" id="removeBtn">
                  <i class="fa fa-file">批量删除</i>
                </button>
              </div>
              <div class="pull-right">
                <input type="text" id="keyword" placeholder="按照名称查询">
                <button type="button" class="btn btn-info" id="searchBtn">
                  <i class="fa fa-search">搜索</i>
                </button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <table id="questionTable"></table>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Main Footer -->
  <div th:replace="~{/views/layout/foot :: footer}"></div>



</div>
<!-- ./wrapper -->
<script>
  //菜单对应的被选中
  $(function () {
    $(".active").removeClass("active");
    $("#probtree").addClass("active");
    $("#quesmanage").addClass("active");
  });
  //表格渲染
  $(function () {
    $("#questionTable").bootstrapTable({
      url: '/question/list',
      pagination: true,//是否分页
      toolbar: "#toolbar",
      toolbarAlign: "right",
      //search: true,//是否允许搜索
      queryParamsType: 'limit',
      queryParams: queryParams,
      sidePagination: 'server',
      dataField: "data",
      columns: [{//表头
        field: 'quesId',
        title: 'ID'
      }, {
        field: 'typeId',
        title: '题型'
      }, {
        field: 'title',
        title: '题目'
      }, {
        field: 'score',
        title: '题目分值',

      }, {
        field: 'ansa',
        title: '选项A',
      }, {
        field: 'ansb',
        title: '选项B',
      }, {
        field: 'ansc',
        title: '选项C',
      }, {
        field: 'ansd',
        title: '选项D',
      },{
        field: 'anse',
        title: '选项E',
      }, {
        field: 'answer',
        title: '非选择题答案',
      },
        {
          field: 'choanswer',
          title: '选择题答案',
        },{
        title: '操作',
        formatter: function (value, row) {
          return [
            '<button  type="button" class="btn btn-warning btn-edit btn-xs" ',
            'data-toggle="modal" data-target="#UserEditModal"', 'data-id=' + row.uId + ' ' +')>',
            '<i class="fa fa-edit" >修改</i></button>',

            '<button type="button" class="btn btn-danger btn-xs" ',
            'onClick=removeUser(' + row.uId + ')>',
            '<i class="fa fa-remove" >删除</i></button>']
                  .join('');
        }
      }]

    })
    function queryParams(params) {
      return {
        //把我们的pageNum，pageSize传到命令中去
        pageSize: params.limit,
        pageNum: params.offset / params.limit + 1,
        keyword: $("#keyword").val()
      }
    }
  });
</script>

</body>
</html>